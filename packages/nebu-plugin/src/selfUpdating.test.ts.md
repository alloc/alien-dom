# Snapshot report for `packages/nebu-plugin/src/selfUpdating.test.ts`

The actual snapshot is saved in `selfUpdating.test.ts.snap`.

Generated by [AVA](https://avajs.dev).

## self-referencing variable with function value

> Snapshot 1

    `import { registerCallback as __registerCallback } from 'alien-dom/dist/helpers.mjs'␊
    function Input() { const x = __registerCallback("0#0", () => x()) }`

> Snapshot 2

    `import { registerCallback as __registerCallback } from 'alien-dom/dist/helpers.mjs'␊
    function Outer() { const x = $(<Inner onClick={__registerCallback("0#1", () => x.remove())} key="0#0" />) }`

> Snapshot 3

    `import { registerCallback as __registerCallback } from 'alien-dom/dist/helpers.mjs'␊
    function Input() { const x = __registerCallback("0#0", () => { const x = () => {}; return x() }) }`

> Snapshot 4

    `import { registerCallback as __registerCallback } from 'alien-dom/dist/helpers.mjs'␊
    function Input() { const x = __registerCallback("0#0", () => { const x = () => {}; return () => x() }) }`

## constant referenced by auto-memoized function

> Snapshot 1

    `import { registerCallback as __registerCallback } from 'alien-dom/dist/helpers.mjs'␊
    const inner = () => {}; function NewInput() { const outer = __registerCallback("0#0", () => inner(), [inner]) }`

> Snapshot 2

    `import { registerCallback as __registerCallback } from 'alien-dom/dist/helpers.mjs'␊
    function Input() { const inner = __registerCallback("0#0", () => {}); const outer = __registerCallback("0#1", () => inner(), [inner]) }`

> Snapshot 3

    'function createInput() { const inner = () => {}; return function Input() { const outer = () => inner() } }'

## auto-memoized function declared before variable referenced by it

> Snapshot 1

    `import { registerCallback as __registerCallback, registerNestedTag as __nestedTag } from 'alien-dom/dist/helpers.mjs'␊
    function Outer() { const Inner = __nestedTag("0#4", () => <Input onChange={__registerCallback("0#3", () => outer.remove(), [outer])} key="0#2" />); Inner.displayName = "Inner"; const outer = <div key="0#0"><Inner key="0#1" /></div>; return outer }`

## displayName added to selfUpdating component

> Snapshot 1

    'const Foo = selfUpdating(() => null); Foo.displayName = "Foo";'

## auto-memoized inline style object

> Snapshot 1

    `import { registerMemo as __registerMemo } from 'alien-dom/dist/helpers.mjs'␊
    function RedInput() { return <Input style={__registerMemo("0#1", { color: "red" }, false)} key="0#0" /> }`

> Snapshot 2

    `import { registerMemo as __registerMemo } from 'alien-dom/dist/helpers.mjs'␊
    function RedInput() { return <Input style={__registerMemo("0#1", [{ color: "red" }], false)} key="0#0" /> }`

> Snapshot 3

    `import { registerMemo as __registerMemo } from 'alien-dom/dist/helpers.mjs'␊
    function RedInput() { const red = "red"; return <Input style={__registerMemo("0#1", { color: red }, [red])} key="0#0" /> }`

> Snapshot 4

    `import { registerMemo as __registerMemo } from 'alien-dom/dist/helpers.mjs'␊
    function RedInput() { return <Input style={__registerMemo("0#1", () => ({ color: getRed() }), [getRed])} key="0#0" /> }`

> Snapshot 5

    `import { registerMemo as __registerMemo } from 'alien-dom/dist/helpers.mjs'␊
    function RedInput() { return <Input style={__registerMemo("0#1", () => ({ color: window.getRed() }), [window])} key="0#0" /> }`
